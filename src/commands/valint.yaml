description: Command Line Interpreter (CLI) tool, that generates evidence the verifies the integrity of your supply chain.
parameters:
  attest-config:
    description: Attestation config path
    default: ""
    type: string
  attest-default:
    description: Attestation default config, options=[sigstore sigstore-github x509]
    default: sigstore
    type: string
  backoff:
    description: Backoff duration
    default: 15s
    type: string
  cache-enable:
    description: Enable local cache
    default: true
    type: boolean
  command:
    description: Command Line Interpreter (CLI) tool, that generates evidence the verifies the integrity of your supply chain.
    default: ""
    type: string
  config:
    description: Configuration file path
    default: ""
    type: string
  context-dir:
    description: Context dir
    default: ""
    type: string
  filter-regex:
    description: Filter out files by regex
    default: '**/*.pyc,**/.git/**'
    type: string
  filter-scope:
    description: Filter packages by scope
    default: ""
    type: string
  help:
    description: help for valint
    default: false
    type: boolean
  label:
    description: Add Custom labels
    default: ""
    type: string
  level:
    description: Log depth level, options=[panic fatal error warning info debug trace]
    default: ""
    type: string
  oci:
    description: Enable OCI store
    default: false
    type: boolean
  oci-repo:
    description: Select OCI custom attestation repo
    default: ""
    type: string
  output-directory:
    description: Output directory path
    default: /home/samtholiya/.cache/valint
    type: string
  output-file:
    description: Output file name
    default: ""
    type: string
  product-key:
    description: Scribe Project Key
    default: ""
    type: string
  scribe-auth-audience:
    description: Scribe auth audience
    default: api.production.scribesecurity.com
    type: string
  scribe-client-id:
    description: Scribe Client ID
    default: ""
    type: string
  scribe-client-secret:
    description: Scribe Client Secret
    default: ""
    type: string
  scribe-enable:
    description: Enable scribe client
    default: false
    type: boolean
  scribe-login-url:
    description: Scribe login url
    default: https://scribesecurity-production.us.auth0.com
    type: string
  scribe-url:
    description: Scribe API Url
    default: https://api.production.scribesecurity.com
    type: string
  timeout:
    description: Timeout duration
    default: 120s
    type: string
  verbose:
    description: Log verbosity level [-v,--verbose=1] = info, [-vv,--verbose=2] = debug
    default: 1
    type: integer
steps:
- run:
    name: Command Line Interpreter (CLI) tool, that generates evidence the verifies the integrity of your supply chain.
    command: |
      valint << parameters.command >> <<# parameters.attest-config >>--attest.config << parameters.attest-config >><</ parameters.attest-config >> \
       <<# parameters.attest-default >>--attest.default << parameters.attest-default >><</ parameters.attest-default >> \
       <<# parameters.backoff >>--backoff << parameters.backoff >><</ parameters.backoff >> \
       <<# parameters.cache-enable >>--cache-enable << parameters.cache-enable >><</ parameters.cache-enable >> \
       <<# parameters.config >>--config << parameters.config >><</ parameters.config >> \
       <<# parameters.context-dir >>--context-dir << parameters.context-dir >><</ parameters.context-dir >> \
       --context-type=circleci \
       <<# parameters.filter-regex >>--filter-regex << parameters.filter-regex >><</ parameters.filter-regex >> \
       <<# parameters.filter-scope >>--filter-scope << parameters.filter-scope >><</ parameters.filter-scope >> \
       <<# parameters.help >>--help << parameters.help >><</ parameters.help >> \
       <<# parameters.label >>--label << parameters.label >><</ parameters.label >> \
       <<# parameters.level >>--level << parameters.level >><</ parameters.level >> \
       <<# parameters.oci >>--oci << parameters.oci >><</ parameters.oci >> \
       <<# parameters.oci-repo >>--oci-repo << parameters.oci-repo >><</ parameters.oci-repo >> \
       <<# parameters.output-directory >>--output-directory << parameters.output-directory >><</ parameters.output-directory >> \
       <<# parameters.output-file >>--output-file << parameters.output-file >><</ parameters.output-file >> \
       <<# parameters.product-key >>--product-key << parameters.product-key >><</ parameters.product-key >> \
       <<# parameters.scribe-auth-audience >>--scribe.auth.audience << parameters.scribe-auth-audience >><</ parameters.scribe-auth-audience >> \
       <<# parameters.scribe-client-id >>--scribe.client-id << parameters.scribe-client-id >><</ parameters.scribe-client-id >> \
       <<# parameters.scribe-client-secret >>--scribe.client-secret << parameters.scribe-client-secret >><</ parameters.scribe-client-secret >> \
       <<# parameters.scribe-enable >>--scribe.enable << parameters.scribe-enable >><</ parameters.scribe-enable >> \
       <<# parameters.scribe-login-url >>--scribe.login-url << parameters.scribe-login-url >><</ parameters.scribe-login-url >> \
       <<# parameters.scribe-url >>--scribe.url << parameters.scribe-url >><</ parameters.scribe-url >> \
       <<# parameters.timeout >>--timeout << parameters.timeout >><</ parameters.timeout >> \
       <<# parameters.verbose >>--verbose << parameters.verbose >><</ parameters.verbose >> \
